<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Eclipse Test Integration &quot;2.0&quot; by azachar</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Eclipse Test Integration &quot;2.0&quot;</h1>
        <h2>This fork of Eclipse JDT feature aims to provide a better visual experience of failed test results.</h2>
        <a href="https://github.com/azachar/org.eclipse.jdt.ui" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="new-features" class="anchor" href="#new-features"><span class="octicon octicon-link"></span></a>New Features</h1>

<p><img src="https://f.cloud.github.com/assets/4659019/2266371/f737afde-9e96-11e3-9a73-202dac7e6520.png" alt="Intro"></p>

<ul>
<li>Elimination of search for a failure in the stack trace</li>
<li>Shows failures clearly in the new inline <strong>Bug Trace</strong> viewer </li>
<li>Shows colored differences between <em>expected</em> and <em>actual</em> values</li>
<li>Ability to filter <code>@Ignored</code> tests</li>
<li>Some complex failures from the AssertJ project (fork is provided here) are visualized in the inline <strong>Bug trace</strong> view.</li>
<li>Ability to automatically show either the failure's stack trace or the bug trace.</li>
</ul><h4>
<a name="screenshots" class="anchor" href="#screenshots"><span class="octicon octicon-link"></span></a>Screenshots</h4>

<hr><p><img src="https://raw2.github.com/azachar/org.eclipse.jdt.ui/gh-pages/screenshots/better-junit-testing-2_0.png" alt="Eclipse Test Integration 2.0"></p>

<hr><p><img src="https://f.cloud.github.com/assets/4659019/2266318/b102ac2c-9e95-11e3-91eb-2d72afb47229.png" alt="Automatic Failures Widget"></p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>The fork was developed with Eclipse Kepler 4.3.1 although there are branches for other releases too.</p>

<p>The installation consists of 2 parts:</p>

<ol>
<li>The forked Eclipse JDT bundles</li>
<li>The forked AssertJ (optional)</li>
</ol><h3>
<a name="1a-binary-installation-of-eclipse-bundles" class="anchor" href="#1a-binary-installation-of-eclipse-bundles"><span class="octicon octicon-link"></span></a>1.A Binary installation of Eclipse bundles</h3>

<ol>
<li>
<p>Create the following folder </p>

<pre><code>&lt;your-workspace&gt;/.metadata/.plugins/org.eclipse.pde.core/install/plugins/
</code></pre>
</li>
<li>
<p>Copy binaries from the release <a href="https://github.com/azachar/org.eclipse.jdt.ui/releases">https://github.com/azachar/org.eclipse.jdt.ui/releases</a>
and store them in the folder mentioned in the step 1. </p>

<p>This allows you to install and test binaries only into a specific workspace. If you want to install it into all workspaces store binaries instead of the mentioned workspace metadata folder into the standard <code>eclipse/dropins/</code> folder.</p>
</li>
<li><p>Restart your Eclipse and run your tests.</p></li>
</ol><h3>
<a name="1b-compilation-from-the-source-code" class="anchor" href="#1b-compilation-from-the-source-code"><span class="octicon octicon-link"></span></a>1.B Compilation from the source code</h3>

<ol>
<li>
<p>Clone the source code of the forked Eclipse Kepler 4.3.2 from </p>

<pre><code>git clone -b R4_3_2-bug-trace https://github.com/azachar/org.eclipse.jdt.ui
</code></pre>
</li>
</ol><p><em>If you are using a different Eclipse installation, choose another branch:</em></p>

<ul>
<li>
<code>master</code> for the latest Eclipse Luna dev release</li>
<li>
<code>R4_3-bug-trace</code> for Eclipse Kepler 4.3</li>
<li>
<code>R4_3_1-bug-trace</code> for Eclipse Kepler 4.3.1</li>
<li><p><code>R4_3_2-bug-trace</code> for Eclipse Kepler 4.3.2</p></li>
</ul><ol>
<li>
<p>Import the following projects into your workspace </p>

<pre><code>org.eclipse.jdt.ui/org.eclipse.jdt.junit

org.eclipse.jdt.ui/org.eclipse.jdt.junit.core

org.eclipse.jdt.ui/org.eclipse.jdt.junit4.runtime
</code></pre>

<p>Install these 3 plugins into your Eclipse by doing the following:</p>

<p>a) Select the mentioned projects above and from the context menu choose <strong>Export -&gt; Deployable plug-ins and fragments</strong> </p>

<p>b) Choose <strong>Install into host. Repository</strong></p>

<p>c) Press Finish button and wait until it is installed into your Eclipse Workspace.</p>
</li>
</ol><p>Now you are able to see clearly the failures in your junit view called ****Bug Trace****. It shows a quick overview of failed tests elements.</p>

<h2>
<a name="assertj-fork" class="anchor" href="#assertj-fork"><span class="octicon octicon-link"></span></a>AssertJ Fork</h2>

<h3>
<a name="colored-failures" class="anchor" href="#colored-failures"><span class="octicon octicon-link"></span></a>Colored failures</h3>

<p>I have modified the AssertJ project in order to provide a clearer view of failures. The fork allows you to visualize the following asserts:</p>

<pre><code>assertThat(a).isEqualToComparingFieldByField(b)
</code></pre>

<p>Here is an example of a complex AssertJ failure
<img src="https://raw2.github.com/azachar/org.eclipse.jdt.ui/gh-pages/screenshots/assertj-better-visualization.png" alt="Complex comparison for AssertJ"></p>

<h3>
<a name="2a-installation-of-the-assertj-fork" class="anchor" href="#2a-installation-of-the-assertj-fork"><span class="octicon octicon-link"></span></a>2.A Installation of the AssertJ fork</h3>

<ol>
<li>
<p>Clone the source code </p>

<pre><code>git clone -b 1_6_0_dev_fork_DescriptiveAssertionException https://github.com/azachar/assertj-core 
</code></pre>
</li>
<li>
<p>Compile the artifact assertj-core:1.6.0-snapshot </p>

<pre><code>mvn clean install
</code></pre>
</li>
<li><p>Use AssertJ's <code>assertThat(a).isEqualToComparingFieldByField(b)</code>
or simply import the sample project from <code>assertj-core/example</code> to your forked Eclipse and choose <strong>Run As / JUnit Test</strong> command.</p></li>
</ol><p>Now you can click on a AssertJ exception in the stack trace and Eclipse will show it's default comparison viewer or simply you can see a colored diff in the Bug Trace viewer like here:</p>

<p><img src="https://raw2.github.com/azachar/org.eclipse.jdt.ui/gh-pages/screenshots/assertj-better-visualization.png" alt="Complex comparison for AssertJ"></p>

<h2>
<a name="contact" class="anchor" href="#contact"><span class="octicon octicon-link"></span></a>Contact</h2>

<p>Are you interested, would you like to join? Contact me andrej at chocolate jar dot eu.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/azachar/org.eclipse.jdt.ui/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/azachar/org.eclipse.jdt.ui/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/azachar/org.eclipse.jdt.ui"></a> is maintained by <a href="https://github.com/azachar">azachar</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-48347805-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>